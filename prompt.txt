1. Given "out/StorageLib.sol/StorageLib.json" has "ast.nodes[3].nodes[i].members[0].typeName.{keyType.name,valueType.pathNode.name}" (where i is 0...28) are the well extracted definition of struct.
2. Given "graph.ts" is good boilerplate for fetching on-chain data via "src/textDAO/storages/StorageLib.sol"'s storage slot information.
3. Given "ast.ts" is good for converting (1) data to for (2)'s type info.
(3) is not perfect. So fill it.
---
// 1
{"abi":[],"bytecode":{"object":"0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220253d11f1e93013867819cf6f718cb9af4cf82c66173ce74f5dac8bceb498720a64736f6c63430008170033","sourceMap":"201:5187:36:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;201:5187:36;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220253d11f1e93013867819cf6f718cb9af4cf82c66173ce74f5dac8bceb498720a64736f6c63430008170033","sourceMap":"201:5187:36:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"notice\":\"StorageLib v0.1.0\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/textDAO/storages/StorageLib.sol\":\"StorageLib\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@chainlink/=lib/chainlink/contracts/src/v0.8/\",\":chainlink/=lib/chainlink/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":forge-std/=lib/forge-std/src/\",\":~/=src/\"]},\"sources\":{\"lib/chainlink/contracts/src/v0.8/vrf/VRFConsumerBaseV2.sol\":{\"keccak256\":\"0x5a502a5ce16796565815b295bb2d18a0d26d6f23621f733918c971047c6091d7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f03385e076f6c2ad534bffe7c655cf259242e0f133f0ebfd56f914c0dde4a3f4\",\"dweb:/ipfs/QmWkQVSoAoRu1LXQTfDeic9QESjQkjT4G5Kt1VptTaxQDP\"]},\"lib/chainlink/contracts/src/v0.8/vrf/interfaces/VRFCoordinatorV2Interface.sol\":{\"keccak256\":\"0xa9f8b7e09811f4ac9f421116b5d6bcf50b5748025c0cb012aaf5ff7c39a6b46a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d66b2096987616cda4611c109d9904863872ca5852d736b30f0e19e49afde35f\",\"dweb:/ipfs/Qmc6jpm3k3YuJG7U2s3FWr81Vk2rdQBhdqD9sA6b8Cr9BE\"]},\"src/textDAO/storages/StorageLib.sol\":{\"keccak256\":\"0x67039c8c49fa53e7bd7e9ab2a472a17265ad1011646b5364a396a25745111432\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://fdcc9e66b314aa2c5921ca3751555339b104fde3836fb852fe76b435dbded9e7\",\"dweb:/ipfs/QmdJNadAZsUPKD1gVMbQzgHpARWNokyEqg5T84hZ32YqK3\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@chainlink/=lib/chainlink/contracts/src/v0.8/","chainlink/=lib/chainlink/contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","forge-std/=lib/forge-std/src/","~/=src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/textDAO/storages/StorageLib.sol":"StorageLib"},"evmVersion":"paris","libraries":{}},"sources":{"lib/chainlink/contracts/src/v0.8/vrf/VRFConsumerBaseV2.sol":{"keccak256":"0x5a502a5ce16796565815b295bb2d18a0d26d6f23621f733918c971047c6091d7","urls":["bzz-raw://f03385e076f6c2ad534bffe7c655cf259242e0f133f0ebfd56f914c0dde4a3f4","dweb:/ipfs/QmWkQVSoAoRu1LXQTfDeic9QESjQkjT4G5Kt1VptTaxQDP"],"license":"MIT"},"lib/chainlink/contracts/src/v0.8/vrf/interfaces/VRFCoordinatorV2Interface.sol":{"keccak256":"0xa9f8b7e09811f4ac9f421116b5d6bcf50b5748025c0cb012aaf5ff7c39a6b46a","urls":["bzz-raw://d66b2096987616cda4611c109d9904863872ca5852d736b30f0e19e49afde35f","dweb:/ipfs/Qmc6jpm3k3YuJG7U2s3FWr81Vk2rdQBhdqD9sA6b8Cr9BE"],"license":"MIT"},"src/textDAO/storages/StorageLib.sol":{"keccak256":"0x67039c8c49fa53e7bd7e9ab2a472a17265ad1011646b5364a396a25745111432","urls":["bzz-raw://fdcc9e66b314aa2c5921ca3751555339b104fde3836fb852fe76b435dbded9e7","dweb:/ipfs/QmdJNadAZsUPKD1gVMbQzgHpARWNokyEqg5T84hZ32YqK3"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"src/textDAO/storages/StorageLib.sol","id":47524,"exportedSymbols":{"StorageLib":[47523],"VRFConsumerBaseV2":[57],"VRFCoordinatorV2Interface":[153]},"nodeType":"SourceUnit","src":"32:5357:36","nodes":[{"id":47269,"nodeType":"PragmaDirective","src":"32:24:36","nodes":[],"literals":["solidity","^","0.8",".23"]},{"id":47270,"nodeType":"ImportDirective","src":"58:46:36","nodes":[],"absolutePath":"lib/chainlink/contracts/src/v0.8/vrf/VRFConsumerBaseV2.sol","file":"@chainlink/vrf/VRFConsumerBaseV2.sol","nameLocation":"-1:-1:-1","scope":47524,"sourceUnit":58,"symbolAliases":[],"unitAlias":""},{"id":47271,"nodeType":"ImportDirective","src":"105:65:36","nodes":[],"absolutePath":"lib/chainlink/contracts/src/v0.8/vrf/interfaces/VRFCoordinatorV2Interface.sol","file":"@chainlink/vrf/interfaces/VRFCoordinatorV2Interface.sol","nameLocation":"-1:-1:-1","scope":47524,"sourceUnit":154,"symbolAliases":[],"unitAlias":""},{"id":47523,"nodeType":"ContractDefinition","src":"201:5187:36","nodes":[{"id":47284,"nodeType":"StructDefinition","src":"383:135:36","nodes":[],"canonicalName":"StorageLib.ProposeStorage","documentation":{"id":47273,"nodeType":"StructuredDocumentation","src":"307:71:36","text":"@custom:storage-location erc7201:textDAO.PROPOSALS_STORAGE_LOCATION"},"members":[{"constant":false,"id":47278,"mutability":"mutable","name":"proposals","nameLocation":"441:9:36","nodeType":"VariableDeclaration","scope":47284,"src":"415:35:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Proposal_$47319_storage_$","typeString":"mapping(uint256 => struct StorageLib.Proposal)"},"typeName":{"id":47277,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":47274,"name":"uint","nodeType":"ElementaryTypeName","src":"423:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"415:25:36","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Proposal_$47319_storage_$","typeString":"mapping(uint256 => struct StorageLib.Proposal)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":47276,"nodeType":"UserDefinedTypeName","pathNode":{"id":47275,"name":"Proposal","nameLocations":["431:8:36"],"nodeType":"IdentifierPath","referencedDeclaration":47319,"src":"431:8:36"},"referencedDeclaration":47319,"src":"431:8:36","typeDescriptions":{"typeIdentifier":"t_struct$_Proposal_$47319_storage_ptr","typeString":"struct StorageLib.Proposal"}}},"visibility":"internal"},{"constant":false,"id":47280,"mutability":"mutable","name":"nextProposalId","nameLocation":"465:14:36","nodeType":"VariableDeclaration","scope":47284,"src":"460:19:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47279,"name":"uint","nodeType":"ElementaryTypeName","src":"460:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47283,"mutability":"mutable","name":"config","nameLocation":"505:6:36","nodeType":"VariableDeclaration","scope":47284,"src":"489:22:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_struct$_ProposalsConfig_$47293_storage_ptr","typeString":"struct StorageLib.ProposalsConfig"},"typeName":{"id":47282,"nodeType":"UserDefinedTypeName","pathNode":{"id":47281,"name":"ProposalsConfig","nameLocations":["489:15:36"],"nodeType":"IdentifierPath","referencedDeclaration":47293,"src":"489:15:36"},"referencedDeclaration":47293,"src":"489:15:36","typeDescriptions":{"typeIdentifier":"t_struct$_ProposalsConfig_$47293_storage_ptr","typeString":"struct StorageLib.ProposalsConfig"}},"visibility":"internal"}],"name":"ProposeStorage","nameLocation":"390:14:36","scope":47523,"visibility":"public"},{"id":47293,"nodeType":"StructDefinition","src":"523:135:36","nodes":[],"canonicalName":"StorageLib.ProposalsConfig","members":[{"constant":false,"id":47286,"mutability":"mutable","name":"expiryDuration","nameLocation":"561:14:36","nodeType":"VariableDeclaration","scope":47293,"src":"556:19:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47285,"name":"uint","nodeType":"ElementaryTypeName","src":"556:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47288,"mutability":"mutable","name":"tallyInterval","nameLocation":"590:13:36","nodeType":"VariableDeclaration","scope":47293,"src":"585:18:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47287,"name":"uint","nodeType":"ElementaryTypeName","src":"585:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47290,"mutability":"mutable","name":"repsNum","nameLocation":"618:7:36","nodeType":"VariableDeclaration","scope":47293,"src":"613:12:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47289,"name":"uint","nodeType":"ElementaryTypeName","src":"613:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47292,"mutability":"mutable","name":"quorumScore","nameLocation":"640:11:36","nodeType":"VariableDeclaration","scope":47293,"src":"635:16:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47291,"name":"uint","nodeType":"ElementaryTypeName","src":"635:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"ProposalsConfig","nameLocation":"530:15:36","scope":47523,"visibility":"public"},{"id":47303,"nodeType":"StructDefinition","src":"663:105:36","nodes":[],"canonicalName":"StorageLib.ProposalArg","members":[{"constant":false,"id":47296,"mutability":"mutable","name":"header","nameLocation":"699:6:36","nodeType":"VariableDeclaration","scope":47303,"src":"692:13:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_struct$_Header_$47329_storage_ptr","typeString":"struct StorageLib.Header"},"typeName":{"id":47295,"nodeType":"UserDefinedTypeName","pathNode":{"id":47294,"name":"Header","nameLocations":["692:6:36"],"nodeType":"IdentifierPath","referencedDeclaration":47329,"src":"692:6:36"},"referencedDeclaration":47329,"src":"692:6:36","typeDescriptions":{"typeIdentifier":"t_struct$_Header_$47329_storage_ptr","typeString":"struct StorageLib.Header"}},"visibility":"internal"},{"constant":false,"id":47299,"mutability":"mutable","name":"cmd","nameLocation":"723:3:36","nodeType":"VariableDeclaration","scope":47303,"src":"715:11:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_struct$_Command_$47343_storage_ptr","typeString":"struct StorageLib.Command"},"typeName":{"id":47298,"nodeType":"UserDefinedTypeName","pathNode":{"id":47297,"name":"Command","nameLocations":["715:7:36"],"nodeType":"IdentifierPath","referencedDeclaration":47343,"src":"715:7:36"},"referencedDeclaration":47343,"src":"715:7:36","typeDescriptions":{"typeIdentifier":"t_struct$_Command_$47343_storage_ptr","typeString":"struct StorageLib.Command"}},"visibility":"internal"},{"constant":false,"id":47302,"mutability":"mutable","name":"proposalMeta","nameLocation":"749:12:36","nodeType":"VariableDeclaration","scope":47303,"src":"736:25:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_struct$_ProposalMeta_$47368_storage_ptr","typeString":"struct StorageLib.ProposalMeta"},"typeName":{"id":47301,"nodeType":"UserDefinedTypeName","pathNode":{"id":47300,"name":"ProposalMeta","nameLocations":["736:12:36"],"nodeType":"IdentifierPath","referencedDeclaration":47368,"src":"736:12:36"},"referencedDeclaration":47368,"src":"736:12:36","typeDescriptions":{"typeIdentifier":"t_struct$_ProposalMeta_$47368_storage_ptr","typeString":"struct StorageLib.ProposalMeta"}},"visibility":"internal"}],"name":"ProposalArg","nameLocation":"670:11:36","scope":47523,"visibility":"public"},{"id":47319,"nodeType":"StructDefinition","src":"773:147:36","nodes":[],"canonicalName":"StorageLib.Proposal","members":[{"constant":false,"id":47307,"mutability":"mutable","name":"headers","nameLocation":"808:7:36","nodeType":"VariableDeclaration","scope":47319,"src":"799:16:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Header_$47329_storage_$dyn_storage_ptr","typeString":"struct StorageLib.Header[]"},"typeName":{"baseType":{"id":47305,"nodeType":"UserDefinedTypeName","pathNode":{"id":47304,"name":"Header","nameLocations":["799:6:36"],"nodeType":"IdentifierPath","referencedDeclaration":47329,"src":"799:6:36"},"referencedDeclaration":47329,"src":"799:6:36","typeDescriptions":{"typeIdentifier":"t_struct$_Header_$47329_storage_ptr","typeString":"struct StorageLib.Header"}},"id":47306,"nodeType":"ArrayTypeName","src":"799:8:36","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Header_$47329_storage_$dyn_storage_ptr","typeString":"struct StorageLib.Header[]"}},"visibility":"internal"},{"constant":false,"id":47311,"mutability":"mutable","name":"cmds","nameLocation":"835:4:36","nodeType":"VariableDeclaration","scope":47319,"src":"825:14:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Command_$47343_storage_$dyn_storage_ptr","typeString":"struct StorageLib.Command[]"},"typeName":{"baseType":{"id":47309,"nodeType":"UserDefinedTypeName","pathNode":{"id":47308,"name":"Command","nameLocations":["825:7:36"],"nodeType":"IdentifierPath","referencedDeclaration":47343,"src":"825:7:36"},"referencedDeclaration":47343,"src":"825:7:36","typeDescriptions":{"typeIdentifier":"t_struct$_Command_$47343_storage_ptr","typeString":"struct StorageLib.Command"}},"id":47310,"nodeType":"ArrayTypeName","src":"825:9:36","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Command_$47343_storage_$dyn_storage_ptr","typeString":"struct StorageLib.Command[]"}},"visibility":"internal"},{"constant":false,"id":47315,"mutability":"mutable","name":"tallied","nameLocation":"871:7:36","nodeType":"VariableDeclaration","scope":47319,"src":"849:29:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bool_$","typeString":"mapping(uint256 => bool)"},"typeName":{"id":47314,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":47312,"name":"uint","nodeType":"ElementaryTypeName","src":"857:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"849:21:36","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bool_$","typeString":"mapping(uint256 => bool)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":47313,"name":"bool","nodeType":"ElementaryTypeName","src":"865:4:36","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"visibility":"internal"},{"constant":false,"id":47318,"mutability":"mutable","name":"proposalMeta","nameLocation":"901:12:36","nodeType":"VariableDeclaration","scope":47319,"src":"888:25:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_struct$_ProposalMeta_$47368_storage_ptr","typeString":"struct StorageLib.ProposalMeta"},"typeName":{"id":47317,"nodeType":"UserDefinedTypeName","pathNode":{"id":47316,"name":"ProposalMeta","nameLocations":["888:12:36"],"nodeType":"IdentifierPath","referencedDeclaration":47368,"src":"888:12:36"},"referencedDeclaration":47368,"src":"888:12:36","typeDescriptions":{"typeIdentifier":"t_struct$_ProposalMeta_$47368_storage_ptr","typeString":"struct StorageLib.ProposalMeta"}},"visibility":"internal"}],"name":"Proposal","nameLocation":"780:8:36","scope":47523,"visibility":"public"},{"id":47329,"nodeType":"StructDefinition","src":"925:117:36","nodes":[],"canonicalName":"StorageLib.Header","members":[{"constant":false,"id":47321,"mutability":"mutable","name":"id","nameLocation":"954:2:36","nodeType":"VariableDeclaration","scope":47329,"src":"949:7:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47320,"name":"uint","nodeType":"ElementaryTypeName","src":"949:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47323,"mutability":"mutable","name":"currentScore","nameLocation":"971:12:36","nodeType":"VariableDeclaration","scope":47329,"src":"966:17:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47322,"name":"uint","nodeType":"ElementaryTypeName","src":"966:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47325,"mutability":"mutable","name":"metadataURI","nameLocation":"1001:11:36","nodeType":"VariableDeclaration","scope":47329,"src":"993:19:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":47324,"name":"bytes32","nodeType":"ElementaryTypeName","src":"993:7:36","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":47328,"mutability":"mutable","name":"tagIds","nameLocation":"1029:6:36","nodeType":"VariableDeclaration","scope":47329,"src":"1022:13:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47326,"name":"uint","nodeType":"ElementaryTypeName","src":"1022:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47327,"nodeType":"ArrayTypeName","src":"1022:6:36","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"name":"Header","nameLocation":"932:6:36","scope":47523,"visibility":"public"},{"id":47334,"nodeType":"StructDefinition","src":"1047:64:36","nodes":[],"canonicalName":"StorageLib.Tag","members":[{"constant":false,"id":47331,"mutability":"mutable","name":"id","nameLocation":"1073:2:36","nodeType":"VariableDeclaration","scope":47334,"src":"1068:7:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47330,"name":"uint","nodeType":"ElementaryTypeName","src":"1068:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47333,"mutability":"mutable","name":"metadataURI","nameLocation":"1093:11:36","nodeType":"VariableDeclaration","scope":47334,"src":"1085:19:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":47332,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1085:7:36","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"name":"Tag","nameLocation":"1054:3:36","scope":47523,"visibility":"public"},{"id":47343,"nodeType":"StructDefinition","src":"1116:92:36","nodes":[],"canonicalName":"StorageLib.Command","members":[{"constant":false,"id":47336,"mutability":"mutable","name":"id","nameLocation":"1146:2:36","nodeType":"VariableDeclaration","scope":47343,"src":"1141:7:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47335,"name":"uint","nodeType":"ElementaryTypeName","src":"1141:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47340,"mutability":"mutable","name":"actions","nameLocation":"1167:7:36","nodeType":"VariableDeclaration","scope":47343,"src":"1158:16:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Action_$47348_storage_$dyn_storage_ptr","typeString":"struct StorageLib.Action[]"},"typeName":{"baseType":{"id":47338,"nodeType":"UserDefinedTypeName","pathNode":{"id":47337,"name":"Action","nameLocations":["1158:6:36"],"nodeType":"IdentifierPath","referencedDeclaration":47348,"src":"1158:6:36"},"referencedDeclaration":47348,"src":"1158:6:36","typeDescriptions":{"typeIdentifier":"t_struct$_Action_$47348_storage_ptr","typeString":"struct StorageLib.Action"}},"id":47339,"nodeType":"ArrayTypeName","src":"1158:8:36","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Action_$47348_storage_$dyn_storage_ptr","typeString":"struct StorageLib.Action[]"}},"visibility":"internal"},{"constant":false,"id":47342,"mutability":"mutable","name":"currentScore","nameLocation":"1189:12:36","nodeType":"VariableDeclaration","scope":47343,"src":"1184:17:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47341,"name":"uint","nodeType":"ElementaryTypeName","src":"1184:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"Command","nameLocation":"1123:7:36","scope":47523,"visibility":"public"},{"id":47348,"nodeType":"StructDefinition","src":"1213:67:36","nodes":[],"canonicalName":"StorageLib.Action","members":[{"constant":false,"id":47345,"mutability":"mutable","name":"func","nameLocation":"1244:4:36","nodeType":"VariableDeclaration","scope":47348,"src":"1237:11:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":47344,"name":"string","nodeType":"ElementaryTypeName","src":"1237:6:36","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"},{"constant":false,"id":47347,"mutability":"mutable","name":"abiParams","nameLocation":"1264:9:36","nodeType":"VariableDeclaration","scope":47348,"src":"1258:15:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"},"typeName":{"id":47346,"name":"bytes","nodeType":"ElementaryTypeName","src":"1258:5:36","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"name":"Action","nameLocation":"1220:6:36","scope":47523,"visibility":"public"},{"id":47368,"nodeType":"StructDefinition","src":"1285:242:36","nodes":[],"canonicalName":"StorageLib.ProposalMeta","members":[{"constant":false,"id":47350,"mutability":"mutable","name":"currentScore","nameLocation":"1320:12:36","nodeType":"VariableDeclaration","scope":47368,"src":"1315:17:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47349,"name":"uint","nodeType":"ElementaryTypeName","src":"1315:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47353,"mutability":"mutable","name":"headerRank","nameLocation":"1349:10:36","nodeType":"VariableDeclaration","scope":47368,"src":"1342:17:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47351,"name":"uint","nodeType":"ElementaryTypeName","src":"1342:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47352,"nodeType":"ArrayTypeName","src":"1342:6:36","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":47356,"mutability":"mutable","name":"cmdRank","nameLocation":"1376:7:36","nodeType":"VariableDeclaration","scope":47368,"src":"1369:14:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47354,"name":"uint","nodeType":"ElementaryTypeName","src":"1369:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47355,"nodeType":"ArrayTypeName","src":"1369:6:36","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":47358,"mutability":"mutable","name":"nextHeaderTallyFrom","nameLocation":"1398:19:36","nodeType":"VariableDeclaration","scope":47368,"src":"1393:24:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47357,"name":"uint","nodeType":"ElementaryTypeName","src":"1393:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47360,"mutability":"mutable","name":"nextCmdTallyFrom","nameLocation":"1432:16:36","nodeType":"VariableDeclaration","scope":47368,"src":"1427:21:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47359,"name":"uint","nodeType":"ElementaryTypeName","src":"1427:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47363,"mutability":"mutable","name":"reps","nameLocation":"1468:4:36","nodeType":"VariableDeclaration","scope":47368,"src":"1458:14:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":47361,"name":"address","nodeType":"ElementaryTypeName","src":"1458:7:36","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47362,"nodeType":"ArrayTypeName","src":"1458:9:36","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":47365,"mutability":"mutable","name":"nextRepId","nameLocation":"1487:9:36","nodeType":"VariableDeclaration","scope":47368,"src":"1482:14:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47364,"name":"uint","nodeType":"ElementaryTypeName","src":"1482:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47367,"mutability":"mutable","name":"createdAt","nameLocation":"1511:9:36","nodeType":"VariableDeclaration","scope":47368,"src":"1506:14:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47366,"name":"uint","nodeType":"ElementaryTypeName","src":"1506:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"ProposalMeta","nameLocation":"1292:12:36","scope":47523,"visibility":"public"},{"id":47394,"nodeType":"StructDefinition","src":"1532:261:36","nodes":[],"canonicalName":"StorageLib.ProposalVars","members":[{"constant":false,"id":47371,"mutability":"mutable","name":"headerRank","nameLocation":"1569:10:36","nodeType":"VariableDeclaration","scope":47394,"src":"1562:17:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47369,"name":"uint","nodeType":"ElementaryTypeName","src":"1562:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47370,"nodeType":"ArrayTypeName","src":"1562:6:36","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":47374,"mutability":"mutable","name":"cmdRank","nameLocation":"1596:7:36","nodeType":"VariableDeclaration","scope":47394,"src":"1589:14:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47372,"name":"uint","nodeType":"ElementaryTypeName","src":"1589:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47373,"nodeType":"ArrayTypeName","src":"1589:6:36","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":47377,"mutability":"mutable","name":"cmdConds","nameLocation":"1620:8:36","nodeType":"VariableDeclaration","scope":47394,"src":"1613:15:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_bool_$dyn_storage_ptr","typeString":"bool[]"},"typeName":{"baseType":{"id":47375,"name":"bool","nodeType":"ElementaryTypeName","src":"1613:4:36","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47376,"nodeType":"ArrayTypeName","src":"1613:6:36","typeDescriptions":{"typeIdentifier":"t_array$_t_bool_$dyn_storage_ptr","typeString":"bool[]"}},"visibility":"internal"},{"constant":false,"id":47379,"mutability":"mutable","name":"cmdCondSum","nameLocation":"1643:10:36","nodeType":"VariableDeclaration","scope":47394,"src":"1638:15:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":47378,"name":"bool","nodeType":"ElementaryTypeName","src":"1638:4:36","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":47384,"mutability":"mutable","name":"topHeaders","nameLocation":"1684:10:36","nodeType":"VariableDeclaration","scope":47394,"src":"1663:31:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Header_$47329_storage_$3_storage_ptr","typeString":"struct StorageLib.Header[3]"},"typeName":{"baseType":{"id":47381,"nodeType":"UserDefinedTypeName","pathNode":{"id":47380,"name":"StorageLib.Header","nameLocations":["1663:10:36","1674:6:36"],"nodeType":"IdentifierPath","referencedDeclaration":47329,"src":"1663:17:36"},"referencedDeclaration":47329,"src":"1663:17:36","typeDescriptions":{"typeIdentifier":"t_struct$_Header_$47329_storage_ptr","typeString":"struct StorageLib.Header"}},"id":47383,"length":{"hexValue":"33","id":47382,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1681:1:36","typeDescriptions":{"typeIdentifier":"t_rational_3_by_1","typeString":"int_const 3"},"value":"3"},"nodeType":"ArrayTypeName","src":"1663:20:36","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Header_$47329_storage_$3_storage_ptr","typeString":"struct StorageLib.Header[3]"}},"visibility":"internal"},{"constant":false,"id":47389,"mutability":"mutable","name":"topCommands","nameLocation":"1726:11:36","nodeType":"VariableDeclaration","scope":47394,"src":"1704:33:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Command_$47343_storage_$3_storage_ptr","typeString":"struct StorageLib.Command[3]"},"typeName":{"baseType":{"id":47386,"nodeType":"UserDefinedTypeName","pathNode":{"id":47385,"name":"StorageLib.Command","nameLocations":["1704:10:36","1715:7:36"],"nodeType":"IdentifierPath","referencedDeclaration":47343,"src":"1704:18:36"},"referencedDeclaration":47343,"src":"1704:18:36","typeDescriptions":{"typeIdentifier":"t_struct$_Command_$47343_storage_ptr","typeString":"struct StorageLib.Command"}},"id":47388,"length":{"hexValue":"33","id":47387,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1723:1:36","typeDescriptions":{"typeIdentifier":"t_rational_3_by_1","typeString":"int_const 3"},"value":"3"},"nodeType":"ArrayTypeName","src":"1704:21:36","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Command_$47343_storage_$3_storage_ptr","typeString":"struct StorageLib.Command[3]"}},"visibility":"internal"},{"constant":false,"id":47391,"mutability":"mutable","name":"headerRank2","nameLocation":"1752:11:36","nodeType":"VariableDeclaration","scope":47394,"src":"1747:16:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47390,"name":"uint","nodeType":"ElementaryTypeName","src":"1747:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47393,"mutability":"mutable","name":"cmdRank2","nameLocation":"1778:8:36","nodeType":"VariableDeclaration","scope":47394,"src":"1773:13:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47392,"name":"uint","nodeType":"ElementaryTypeName","src":"1773:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"ProposalVars","nameLocation":"1539:12:36","scope":47523,"visibility":"public"},{"id":47397,"nodeType":"VariableDeclaration","src":"1917:128:36","nodes":[],"constant":true,"mutability":"constant","name":"PROPOSALS_STORAGE_LOCATION","nameLocation":"1942:26:36","scope":47523,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":47395,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1917:7:36","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"hexValue":"307866316134643865616236373234623738336237356135633864366234613565646163316166616135326164616137643363353732303134353163653863343030","id":47396,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1979:66:36","typeDescriptions":{"typeIdentifier":"t_rational_109298656532243136741675115468774798388343798215287995469375701848377369609216_by_1","typeString":"int_const 1092...(70 digits omitted)...9216"},"value":"0xf1a4d8eab6724b783b75a5c8d6b4a5edac1afaa52adaa7d3c57201451ce8c400"},"visibility":"private"},{"id":47405,"nodeType":"FunctionDefinition","src":"2052:136:36","nodes":[],"body":{"id":47404,"nodeType":"Block","src":"2123:65:36","nodes":[],"statements":[{"AST":{"nativeSrc":"2142:40:36","nodeType":"YulBlock","src":"2142:40:36","statements":[{"nativeSrc":"2144:36:36","nodeType":"YulAssignment","src":"2144:36:36","value":{"name":"PROPOSALS_STORAGE_LOCATION","nativeSrc":"2154:26:36","nodeType":"YulIdentifier","src":"2154:26:36"},"variableNames":[{"name":"$.slot","nativeSrc":"2144:6:36","nodeType":"YulIdentifier","src":"2144:6:36"}]}]},"evmVersion":"paris","externalReferences":[{"declaration":47401,"isOffset":false,"isSlot":true,"src":"2144:6:36","suffix":"slot","valueSize":1},{"declaration":47397,"isOffset":false,"isSlot":false,"src":"2154:26:36","valueSize":1}],"id":47403,"nodeType":"InlineAssembly","src":"2133:49:36"}]},"implemented":true,"kind":"function","modifiers":[],"name":"$Proposals","nameLocation":"2061:10:36","parameters":{"id":47398,"nodeType":"ParameterList","parameters":[],"src":"2071:2:36"},"returnParameters":{"id":47402,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47401,"mutability":"mutable","name":"$","nameLocation":"2120:1:36","nodeType":"VariableDeclaration","scope":47405,"src":"2097:24:36","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_ProposeStorage_$47284_storage_ptr","typeString":"struct StorageLib.ProposeStorage"},"typeName":{"id":47400,"nodeType":"UserDefinedTypeName","pathNode":{"id":47399,"name":"ProposeStorage","nameLocations":["2097:14:36"],"nodeType":"IdentifierPath","referencedDeclaration":47284,"src":"2097:14:36"},"referencedDeclaration":47284,"src":"2097:14:36","typeDescriptions":{"typeIdentifier":"t_struct$_ProposeStorage_$47284_storage_ptr","typeString":"struct StorageLib.ProposeStorage"}},"visibility":"internal"}],"src":"2096:26:36"},"scope":47523,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":47414,"nodeType":"StructDefinition","src":"2356:101:36","nodes":[],"canonicalName":"StorageLib.TextSaveProtectedStorage","documentation":{"id":47406,"nodeType":"StructuredDocumentation","src":"2284:67:36","text":"@custom:storage-location erc7201:textDAO.TEXTS_STORAGE_LOCATION"},"members":[{"constant":false,"id":47411,"mutability":"mutable","name":"texts","nameLocation":"2420:5:36","nodeType":"VariableDeclaration","scope":47414,"src":"2398:27:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Text_$47420_storage_$","typeString":"mapping(uint256 => struct StorageLib.Text)"},"typeName":{"id":47410,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":47407,"name":"uint","nodeType":"ElementaryTypeName","src":"2406:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"2398:21:36","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Text_$47420_storage_$","typeString":"mapping(uint256 => struct StorageLib.Text)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":47409,"nodeType":"UserDefinedTypeName","pathNode":{"id":47408,"name":"Text","nameLocations":["2414:4:36"],"nodeType":"IdentifierPath","referencedDeclaration":47420,"src":"2414:4:36"},"referencedDeclaration":47420,"src":"2414:4:36","typeDescriptions":{"typeIdentifier":"t_struct$_Text_$47420_storage_ptr","typeString":"struct StorageLib.Text"}}},"visibility":"internal"},{"constant":false,"id":47413,"mutability":"mutable","name":"nextTextId","nameLocation":"2440:10:36","nodeType":"VariableDeclaration","scope":47414,"src":"2435:15:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47412,"name":"uint","nodeType":"ElementaryTypeName","src":"2435:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"TextSaveProtectedStorage","nameLocation":"2363:24:36","scope":47523,"visibility":"public"},{"id":47420,"nodeType":"StructDefinition","src":"2462:68:36","nodes":[],"canonicalName":"StorageLib.Text","members":[{"constant":false,"id":47416,"mutability":"mutable","name":"id","nameLocation":"2489:2:36","nodeType":"VariableDeclaration","scope":47420,"src":"2484:7:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47415,"name":"uint","nodeType":"ElementaryTypeName","src":"2484:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47419,"mutability":"mutable","name":"metadataURIs","nameLocation":"2511:12:36","nodeType":"VariableDeclaration","scope":47420,"src":"2501:22:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":47417,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2501:7:36","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":47418,"nodeType":"ArrayTypeName","src":"2501:9:36","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"visibility":"internal"}],"name":"Text","nameLocation":"2469:4:36","scope":47523,"visibility":"public"},{"id":47423,"nodeType":"VariableDeclaration","src":"2650:124:36","nodes":[],"constant":true,"mutability":"constant","name":"TEXTS_STORAGE_LOCATION","nameLocation":"2675:22:36","scope":47523,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":47421,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2650:7:36","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"hexValue":"307830613435363738663761633133323236613065616434653362353464623061623236336531613330636331656133663139643732313261656135636431643030","id":47422,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2708:66:36","typeDescriptions":{"typeIdentifier":"t_rational_4645755681376041000918570392892359395599886064016233559348563031540376608000_by_1","typeString":"int_const 4645...(68 digits omitted)...8000"},"value":"0x0a45678f7ac13226a0ead4e3b54db0ab263e1a30cc1ea3f19d7212aea5cd1d00"},"visibility":"private"},{"id":47431,"nodeType":"FunctionDefinition","src":"2781:138:36","nodes":[],"body":{"id":47430,"nodeType":"Block","src":"2858:61:36","nodes":[],"statements":[{"AST":{"nativeSrc":"2877:36:36","nodeType":"YulBlock","src":"2877:36:36","statements":[{"nativeSrc":"2879:32:36","nodeType":"YulAssignment","src":"2879:32:36","value":{"name":"TEXTS_STORAGE_LOCATION","nativeSrc":"2889:22:36","nodeType":"YulIdentifier","src":"2889:22:36"},"variableNames":[{"name":"$.slot","nativeSrc":"2879:6:36","nodeType":"YulIdentifier","src":"2879:6:36"}]}]},"evmVersion":"paris","externalReferences":[{"declaration":47427,"isOffset":false,"isSlot":true,"src":"2879:6:36","suffix":"slot","valueSize":1},{"declaration":47423,"isOffset":false,"isSlot":false,"src":"2889:22:36","valueSize":1}],"id":47429,"nodeType":"InlineAssembly","src":"2868:45:36"}]},"implemented":true,"kind":"function","modifiers":[],"name":"$Texts","nameLocation":"2790:6:36","parameters":{"id":47424,"nodeType":"ParameterList","parameters":[],"src":"2796:2:36"},"returnParameters":{"id":47428,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47427,"mutability":"mutable","name":"$","nameLocation":"2855:1:36","nodeType":"VariableDeclaration","scope":47431,"src":"2822:34:36","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_TextSaveProtectedStorage_$47414_storage_ptr","typeString":"struct StorageLib.TextSaveProtectedStorage"},"typeName":{"id":47426,"nodeType":"UserDefinedTypeName","pathNode":{"id":47425,"name":"TextSaveProtectedStorage","nameLocations":["2822:24:36"],"nodeType":"IdentifierPath","referencedDeclaration":47414,"src":"2822:24:36"},"referencedDeclaration":47414,"src":"2822:24:36","typeDescriptions":{"typeIdentifier":"t_struct$_TextSaveProtectedStorage_$47414_storage_ptr","typeString":"struct StorageLib.TextSaveProtectedStorage"}},"visibility":"internal"}],"src":"2821:36:36"},"scope":47523,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":47440,"nodeType":"StructDefinition","src":"3090:109:36","nodes":[],"canonicalName":"StorageLib.MemberJoinProtectedStorage","documentation":{"id":47432,"nodeType":"StructuredDocumentation","src":"3016:69:36","text":"@custom:storage-location erc7201:textDAO.MEMBERS_STORAGE_LOCATION"},"members":[{"constant":false,"id":47437,"mutability":"mutable","name":"members","nameLocation":"3158:7:36","nodeType":"VariableDeclaration","scope":47440,"src":"3134:31:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Member_$47447_storage_$","typeString":"mapping(uint256 => struct StorageLib.Member)"},"typeName":{"id":47436,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":47433,"name":"uint","nodeType":"ElementaryTypeName","src":"3142:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"3134:23:36","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Member_$47447_storage_$","typeString":"mapping(uint256 => struct StorageLib.Member)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":47435,"nodeType":"UserDefinedTypeName","pathNode":{"id":47434,"name":"Member","nameLocations":["3150:6:36"],"nodeType":"IdentifierPath","referencedDeclaration":47447,"src":"3150:6:36"},"referencedDeclaration":47447,"src":"3150:6:36","typeDescriptions":{"typeIdentifier":"t_struct$_Member_$47447_storage_ptr","typeString":"struct StorageLib.Member"}}},"visibility":"internal"},{"constant":false,"id":47439,"mutability":"mutable","name":"nextMemberId","nameLocation":"3180:12:36","nodeType":"VariableDeclaration","scope":47440,"src":"3175:17:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47438,"name":"uint","nodeType":"ElementaryTypeName","src":"3175:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"MemberJoinProtectedStorage","nameLocation":"3097:26:36","scope":47523,"visibility":"public"},{"id":47447,"nodeType":"StructDefinition","src":"3204:89:36","nodes":[],"canonicalName":"StorageLib.Member","members":[{"constant":false,"id":47442,"mutability":"mutable","name":"id","nameLocation":"3233:2:36","nodeType":"VariableDeclaration","scope":47447,"src":"3228:7:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47441,"name":"uint","nodeType":"ElementaryTypeName","src":"3228:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47444,"mutability":"mutable","name":"addr","nameLocation":"3253:4:36","nodeType":"VariableDeclaration","scope":47447,"src":"3245:12:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47443,"name":"address","nodeType":"ElementaryTypeName","src":"3245:7:36","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47446,"mutability":"mutable","name":"metadataURI","nameLocation":"3275:11:36","nodeType":"VariableDeclaration","scope":47447,"src":"3267:19:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":47445,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3267:7:36","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"name":"Member","nameLocation":"3211:6:36","scope":47523,"visibility":"public"},{"id":47450,"nodeType":"VariableDeclaration","src":"3415:126:36","nodes":[],"constant":true,"mutability":"constant","name":"MEMBERS_STORAGE_LOCATION","nameLocation":"3440:24:36","scope":47523,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":47448,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3415:7:36","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"hexValue":"307832663863616237643439646336313661306538656234653666386236376433316336353634343562663063396164356533386263333864313132386463633030","id":47449,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3475:66:36","typeDescriptions":{"typeIdentifier":"t_rational_21507246048879585221102888472623435301091568495239814561909858578421777288192_by_1","typeString":"int_const 2150...(69 digits omitted)...8192"},"value":"0x2f8cab7d49dc616a0e8eb4e6f8b67d31c656445bf0c9ad5e38bc38d1128dcc00"},"visibility":"private"},{"id":47458,"nodeType":"FunctionDefinition","src":"3548:144:36","nodes":[],"body":{"id":47457,"nodeType":"Block","src":"3629:63:36","nodes":[],"statements":[{"AST":{"nativeSrc":"3648:38:36","nodeType":"YulBlock","src":"3648:38:36","statements":[{"nativeSrc":"3650:34:36","nodeType":"YulAssignment","src":"3650:34:36","value":{"name":"MEMBERS_STORAGE_LOCATION","nativeSrc":"3660:24:36","nodeType":"YulIdentifier","src":"3660:24:36"},"variableNames":[{"name":"$.slot","nativeSrc":"3650:6:36","nodeType":"YulIdentifier","src":"3650:6:36"}]}]},"evmVersion":"paris","externalReferences":[{"declaration":47454,"isOffset":false,"isSlot":true,"src":"3650:6:36","suffix":"slot","valueSize":1},{"declaration":47450,"isOffset":false,"isSlot":false,"src":"3660:24:36","valueSize":1}],"id":47456,"nodeType":"InlineAssembly","src":"3639:47:36"}]},"implemented":true,"kind":"function","modifiers":[],"name":"$Members","nameLocation":"3557:8:36","parameters":{"id":47451,"nodeType":"ParameterList","parameters":[],"src":"3565:2:36"},"returnParameters":{"id":47455,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47454,"mutability":"mutable","name":"$","nameLocation":"3626:1:36","nodeType":"VariableDeclaration","scope":47458,"src":"3591:36:36","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_MemberJoinProtectedStorage_$47440_storage_ptr","typeString":"struct StorageLib.MemberJoinProtectedStorage"},"typeName":{"id":47453,"nodeType":"UserDefinedTypeName","pathNode":{"id":47452,"name":"MemberJoinProtectedStorage","nameLocations":["3591:26:36"],"nodeType":"IdentifierPath","referencedDeclaration":47440,"src":"3591:26:36"},"referencedDeclaration":47440,"src":"3591:26:36","typeDescriptions":{"typeIdentifier":"t_struct$_MemberJoinProtectedStorage_$47440_storage_ptr","typeString":"struct StorageLib.MemberJoinProtectedStorage"}},"visibility":"internal"}],"src":"3590:38:36"},"scope":47523,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":47472,"nodeType":"StructDefinition","src":"3843:146:36","nodes":[],"canonicalName":"StorageLib.VRFStorage","documentation":{"id":47459,"nodeType":"StructuredDocumentation","src":"3773:65:36","text":"@custom:storage-location erc7201:textDAO.VRF_STORAGE_LOCATION"},"members":[{"constant":false,"id":47464,"mutability":"mutable","name":"requests","nameLocation":"3896:8:36","nodeType":"VariableDeclaration","scope":47472,"src":"3871:33:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Request_$47477_storage_$","typeString":"mapping(uint256 => struct StorageLib.Request)"},"typeName":{"id":47463,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":47460,"name":"uint","nodeType":"ElementaryTypeName","src":"3879:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"3871:24:36","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Request_$47477_storage_$","typeString":"mapping(uint256 => struct StorageLib.Request)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":47462,"nodeType":"UserDefinedTypeName","pathNode":{"id":47461,"name":"Request","nameLocations":["3887:7:36"],"nodeType":"IdentifierPath","referencedDeclaration":47477,"src":"3887:7:36"},"referencedDeclaration":47477,"src":"3887:7:36","typeDescriptions":{"typeIdentifier":"t_struct$_Request_$47477_storage_ptr","typeString":"struct StorageLib.Request"}}},"visibility":"internal"},{"constant":false,"id":47466,"mutability":"mutable","name":"nextId","nameLocation":"3919:6:36","nodeType":"VariableDeclaration","scope":47472,"src":"3914:11:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47465,"name":"uint","nodeType":"ElementaryTypeName","src":"3914:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47468,"mutability":"mutable","name":"subscriptionId","nameLocation":"3942:14:36","nodeType":"VariableDeclaration","scope":47472,"src":"3935:21:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":47467,"name":"uint64","nodeType":"ElementaryTypeName","src":"3935:6:36","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"},{"constant":false,"id":47471,"mutability":"mutable","name":"config","nameLocation":"3976:6:36","nodeType":"VariableDeclaration","scope":47472,"src":"3966:16:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_struct$_VRFConfig_$47490_storage_ptr","typeString":"struct StorageLib.VRFConfig"},"typeName":{"id":47470,"nodeType":"UserDefinedTypeName","pathNode":{"id":47469,"name":"VRFConfig","nameLocations":["3966:9:36"],"nodeType":"IdentifierPath","referencedDeclaration":47490,"src":"3966:9:36"},"referencedDeclaration":47490,"src":"3966:9:36","typeDescriptions":{"typeIdentifier":"t_struct$_VRFConfig_$47490_storage_ptr","typeString":"struct StorageLib.VRFConfig"}},"visibility":"internal"}],"name":"VRFStorage","nameLocation":"3850:10:36","scope":47523,"visibility":"public"},{"id":47477,"nodeType":"StructDefinition","src":"3994:71:36","nodes":[],"canonicalName":"StorageLib.Request","members":[{"constant":false,"id":47474,"mutability":"mutable","name":"requestId","nameLocation":"4024:9:36","nodeType":"VariableDeclaration","scope":47477,"src":"4019:14:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47473,"name":"uint","nodeType":"ElementaryTypeName","src":"4019:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47476,"mutability":"mutable","name":"proposalId","nameLocation":"4048:10:36","nodeType":"VariableDeclaration","scope":47477,"src":"4043:15:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47475,"name":"uint","nodeType":"ElementaryTypeName","src":"4043:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"Request","nameLocation":"4001:7:36","scope":47523,"visibility":"public"},{"id":47490,"nodeType":"StructDefinition","src":"4070:203:36","nodes":[],"canonicalName":"StorageLib.VRFConfig","members":[{"constant":false,"id":47479,"mutability":"mutable","name":"vrfCoordinator","nameLocation":"4105:14:36","nodeType":"VariableDeclaration","scope":47490,"src":"4097:22:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47478,"name":"address","nodeType":"ElementaryTypeName","src":"4097:7:36","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47481,"mutability":"mutable","name":"keyHash","nameLocation":"4137:7:36","nodeType":"VariableDeclaration","scope":47490,"src":"4129:15:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":47480,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4129:7:36","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":47483,"mutability":"mutable","name":"callbackGasLimit","nameLocation":"4161:16:36","nodeType":"VariableDeclaration","scope":47490,"src":"4154:23:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":47482,"name":"uint32","nodeType":"ElementaryTypeName","src":"4154:6:36","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":47485,"mutability":"mutable","name":"requestConfirmations","nameLocation":"4194:20:36","nodeType":"VariableDeclaration","scope":47490,"src":"4187:27:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":47484,"name":"uint16","nodeType":"ElementaryTypeName","src":"4187:6:36","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":47487,"mutability":"mutable","name":"numWords","nameLocation":"4231:8:36","nodeType":"VariableDeclaration","scope":47490,"src":"4224:15:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":47486,"name":"uint32","nodeType":"ElementaryTypeName","src":"4224:6:36","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":47489,"mutability":"mutable","name":"LINKTOKEN","nameLocation":"4257:9:36","nodeType":"VariableDeclaration","scope":47490,"src":"4249:17:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47488,"name":"address","nodeType":"ElementaryTypeName","src":"4249:7:36","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"name":"VRFConfig","nameLocation":"4077:9:36","scope":47523,"visibility":"public"},{"id":47493,"nodeType":"VariableDeclaration","src":"4391:122:36","nodes":[],"constant":true,"mutability":"constant","name":"VRF_STORAGE_LOCATION","nameLocation":"4416:20:36","scope":47523,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":47491,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4391:7:36","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"hexValue":"307836376632386666363766376437303230663262326163376339626435663261366464396631396139623135643932633430373063343537323732386162303030","id":47492,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4447:66:36","typeDescriptions":{"typeIdentifier":"t_rational_47016793989053541423092738373761473595540507108142904766971071611382092443648_by_1","typeString":"int_const 4701...(69 digits omitted)...3648"},"value":"0x67f28ff67f7d7020f2b2ac7c9bd5f2a6dd9f19a9b15d92c4070c4572728ab000"},"visibility":"private"},{"id":47501,"nodeType":"FunctionDefinition","src":"4520:120:36","nodes":[],"body":{"id":47500,"nodeType":"Block","src":"4581:59:36","nodes":[],"statements":[{"AST":{"nativeSrc":"4600:34:36","nodeType":"YulBlock","src":"4600:34:36","statements":[{"nativeSrc":"4602:30:36","nodeType":"YulAssignment","src":"4602:30:36","value":{"name":"VRF_STORAGE_LOCATION","nativeSrc":"4612:20:36","nodeType":"YulIdentifier","src":"4612:20:36"},"variableNames":[{"name":"$.slot","nativeSrc":"4602:6:36","nodeType":"YulIdentifier","src":"4602:6:36"}]}]},"evmVersion":"paris","externalReferences":[{"declaration":47497,"isOffset":false,"isSlot":true,"src":"4602:6:36","suffix":"slot","valueSize":1},{"declaration":47493,"isOffset":false,"isSlot":false,"src":"4612:20:36","valueSize":1}],"id":47499,"nodeType":"InlineAssembly","src":"4591:43:36"}]},"implemented":true,"kind":"function","modifiers":[],"name":"$VRF","nameLocation":"4529:4:36","parameters":{"id":47494,"nodeType":"ParameterList","parameters":[],"src":"4533:2:36"},"returnParameters":{"id":47498,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47497,"mutability":"mutable","name":"$","nameLocation":"4578:1:36","nodeType":"VariableDeclaration","scope":47501,"src":"4559:20:36","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_VRFStorage_$47472_storage_ptr","typeString":"struct StorageLib.VRFStorage"},"typeName":{"id":47496,"nodeType":"UserDefinedTypeName","pathNode":{"id":47495,"name":"VRFStorage","nameLocations":["4559:10:36"],"nodeType":"IdentifierPath","referencedDeclaration":47472,"src":"4559:10:36"},"referencedDeclaration":47472,"src":"4559:10:36","typeDescriptions":{"typeIdentifier":"t_struct$_VRFStorage_$47472_storage_ptr","typeString":"struct StorageLib.VRFStorage"}},"visibility":"internal"}],"src":"4558:22:36"},"scope":47523,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":47508,"nodeType":"StructDefinition","src":"4812:89:36","nodes":[],"canonicalName":"StorageLib.ConfigOverrideStorage","documentation":{"id":47502,"nodeType":"StructuredDocumentation","src":"4732:75:36","text":"@custom:storage-location erc7201:textDAO.CONF_OVERRIDE_STORAGE_LOCATION"},"members":[{"constant":false,"id":47507,"mutability":"mutable","name":"overrides","nameLocation":"4885:9:36","nodeType":"VariableDeclaration","scope":47508,"src":"4851:43:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_ConfigOverride_$47511_storage_$","typeString":"mapping(bytes4 => struct StorageLib.ConfigOverride)"},"typeName":{"id":47506,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":47503,"name":"bytes4","nodeType":"ElementaryTypeName","src":"4859:6:36","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"Mapping","src":"4851:33:36","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_ConfigOverride_$47511_storage_$","typeString":"mapping(bytes4 => struct StorageLib.ConfigOverride)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":47505,"nodeType":"UserDefinedTypeName","pathNode":{"id":47504,"name":"ConfigOverride","nameLocations":["4869:14:36"],"nodeType":"IdentifierPath","referencedDeclaration":47511,"src":"4869:14:36"},"referencedDeclaration":47511,"src":"4869:14:36","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigOverride_$47511_storage_ptr","typeString":"struct StorageLib.ConfigOverride"}}},"visibility":"internal"}],"name":"ConfigOverrideStorage","nameLocation":"4819:21:36","scope":47523,"visibility":"public"},{"id":47511,"nodeType":"StructDefinition","src":"4906:55:36","nodes":[],"canonicalName":"StorageLib.ConfigOverride","members":[{"constant":false,"id":47510,"mutability":"mutable","name":"quorumScore","nameLocation":"4943:11:36","nodeType":"VariableDeclaration","scope":47511,"src":"4938:16:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47509,"name":"uint","nodeType":"ElementaryTypeName","src":"4938:4:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"ConfigOverride","nameLocation":"4913:14:36","scope":47523,"visibility":"public"},{"id":47514,"nodeType":"VariableDeclaration","src":"5089:132:36","nodes":[],"constant":true,"mutability":"constant","name":"CONF_OVERRIDE_STORAGE_LOCATION","nameLocation":"5114:30:36","scope":47523,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":47512,"name":"bytes32","nodeType":"ElementaryTypeName","src":"5089:7:36","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"hexValue":"307835333131353166343130333238303734363230356335363431396432633934396530393736643965653339643363333634363138313831656261356565353030","id":47513,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5155:66:36","typeDescriptions":{"typeIdentifier":"t_rational_37572568453899191481292115751260948830574358143542925445726707011705051735296_by_1","typeString":"int_const 3757...(69 digits omitted)...5296"},"value":"0x531151f4103280746205c56419d2c949e0976d9ee39d3c364618181eba5ee500"},"visibility":"private"},{"id":47522,"nodeType":"FunctionDefinition","src":"5228:152:36","nodes":[],"body":{"id":47521,"nodeType":"Block","src":"5311:69:36","nodes":[],"statements":[{"AST":{"nativeSrc":"5330:44:36","nodeType":"YulBlock","src":"5330:44:36","statements":[{"nativeSrc":"5332:40:36","nodeType":"YulAssignment","src":"5332:40:36","value":{"name":"CONF_OVERRIDE_STORAGE_LOCATION","nativeSrc":"5342:30:36","nodeType":"YulIdentifier","src":"5342:30:36"},"variableNames":[{"name":"$.slot","nativeSrc":"5332:6:36","nodeType":"YulIdentifier","src":"5332:6:36"}]}]},"evmVersion":"paris","externalReferences":[{"declaration":47518,"isOffset":false,"isSlot":true,"src":"5332:6:36","suffix":"slot","valueSize":1},{"declaration":47514,"isOffset":false,"isSlot":false,"src":"5342:30:36","valueSize":1}],"id":47520,"nodeType":"InlineAssembly","src":"5321:53:36"}]},"implemented":true,"kind":"function","modifiers":[],"name":"$ConfigOverride","nameLocation":"5237:15:36","parameters":{"id":47515,"nodeType":"ParameterList","parameters":[],"src":"5252:2:36"},"returnParameters":{"id":47519,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47518,"mutability":"mutable","name":"$","nameLocation":"5308:1:36","nodeType":"VariableDeclaration","scope":47522,"src":"5278:31:36","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigOverrideStorage_$47508_storage_ptr","typeString":"struct StorageLib.ConfigOverrideStorage"},"typeName":{"id":47517,"nodeType":"UserDefinedTypeName","pathNode":{"id":47516,"name":"ConfigOverrideStorage","nameLocations":["5278:21:36"],"nodeType":"IdentifierPath","referencedDeclaration":47508,"src":"5278:21:36"},"referencedDeclaration":47508,"src":"5278:21:36","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigOverrideStorage_$47508_storage_ptr","typeString":"struct StorageLib.ConfigOverrideStorage"}},"visibility":"internal"}],"src":"5277:33:36"},"scope":47523,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"StorageLib","contractDependencies":[],"contractKind":"library","documentation":{"id":47272,"nodeType":"StructuredDocumentation","src":"172:28:36","text":" StorageLib v0.1.0"},"fullyImplemented":true,"linearizedBaseContracts":[47523],"name":"StorageLib","nameLocation":"209:10:36","scope":47524,"usedErrors":[],"usedEvents":[]}],"license":"MIT"},"id":36}
---
//2
import { Injectable } from '@nestjs/common';
import { OnEvent } from '@nestjs/event-emitter';
// Assuming `viem` provides a simplified interface similar to ethers
import { Viem } from 'viem'; // This import path is speculative

@Injectable()
export class YourService {
  private viem: Viem;

  constructor() {
    // Initialize Viem with a provider URL
    this.viem = new Viem({
      provider: 'https://mainnet.infura.io/v3/YOUR_PROJECT_ID'
    });
  }

  @OnEvent('**')
  async handleEverything(payload: any) {
    const contractAddress = '0xYourContractAddressHere';
    const storageSlot1 = 'StorageLib.PROPOSALS_STORAGE_LOCATION';
    const storageSlot2 = 'StorageLib.TEXTS_STORAGE_LOCATION';
    const storageSlot3 = 'StorageLib.MEMBERS_STORAGE_LOCATION';
    const storageSlot4 = 'StorageLib.VRF_STORAGE_LOCATION';
    const storageSlot5 = 'StorageLib.CONF_OVERRIDE_STORAGE_LOCATION';
    

    try {
      // Fetch the data stored at the specified slot in the contract using Viem
      const data1 = await this.viem.getStorageAt(contractAddress, storageSlot1);
      const data2 = await this.viem.getStorageAt(contractAddress, storageSlot2);
      const data3 = await this.viem.getStorageAt(contractAddress, storageSlot3);
      const data4 = await this.viem.getStorageAt(contractAddress, storageSlot4);
      const data5 = await this.viem.getStorageAt(contractAddress, storageSlot5);

    } catch (error) {
      console.error('Error fetching storage data with Viem:', error);
    }
  }
}
---
//3
const { ASTReader, SolcAstReader } = require('solc-typed-ast');

// Example function to read an AST from a JSON file
async function readAstFromJson(filePath) {
    const reader = new SolcAstReader();
    const ast = await reader.readJsonFile(filePath);
    return ast;
}

// Function to find and process structs (or any other elements)
function processStructs(ast) {
    const structs = ast.getChildrenBySelector(c => c.nodeType === 'StructDefinition');
    structs.forEach(struct => {
        console.log(`Struct Name: ${struct.name}`);
        struct.members.forEach(member => {
            // Process each member, extract type information, etc.
            console.log(`Member Name: ${member.name}, Type: ${member.typeDescriptions.typeString}`);
        });
    });
}

// Assuming you've saved the AST to a file, replace 'path/to/ast.json' with your actual file path
readAstFromJson('path/to/ast.json').then(ast => {
    processStructs(ast);
});
